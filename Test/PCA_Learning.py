import numpy as np

from Test.read_data import ToFormNumpy
from uz.nuu.datamining.graphic.drawing import mscatter
from datamining.own.fris import Fris

X, types, y = ToFormNumpy("D:\\tanlanmalar\\giper_my.txt")

#X = np.array([[4, 4], [3, 6], [5, 2]], dtype=float)

#X = np.array([[4, 3, 5], [4, 6, 2]])

y -= 1
X -= X.mean(axis=0)

covmat = np.dot(X.T, X)

covmat = np.array([[0.6066353658781276, 0.6301733805074563, 0.6214466136515134, 0.8592131106607721, 0.8736921033877233, 0.600853414661878, 0.6094070313817901, 0.5867057852210043, 0.5786615866051649, 0.7006998089403434, 0.6163119318278932, 0.6522341941050182, 0.600853414661878, 0.8736921033877233, 0.8096234318951467, 0.5791038997423555, 0.635994346239335, 0.6229420214572404, 0.5867057852210043, 0.600853414661878, 0.6214466136515134, 0.6453908994369276, 0.6522341941050182, 0.6066353658781276, 0.6013082124440698, 0.6203214350207669, 0.6340651713331743, 0.7392127093686114, 0.7446575751698247, ],
[0.6301733805074563, 0.2526354862657758, 0.5541910135822533, 0.903192279138827, 0.7186195103789759, 0.2818595878729509, 0.2742637217767136, 0.31516312154767984, 0.27900015828746344, 0.6846108915151231, 0.5030495974816688, 0.5251028311161942, 0.28179954267556345, 0.8668488087196328, 0.7817367478837411, 0.2877247700558762, 0.27703932588862057, 0.2869910742219577, 0.31516312154767984, 0.28445312424525493, 0.5219978701790134, 0.5378191108703357, 0.34730253638939607, 0.3516703786191537, 0.30316574926819917, 0.27619445726349956, 0.35664261143103015, 0.48890977094392085, 0.4597624350408315, ],
[0.6214466136515134, 0.5541910135822533, 0.5071687871984828, 0.8809462023270487, 0.8379863159373181, 0.4566814030065701, 0.41643789297835326, 0.48890977094392085, 0.5215768849770335, 0.6148852638830367, 0.5481133694942159, 0.5215768849770335, 0.44322496215591983, 0.8592131106607721, 0.8241024246220979, 0.4391580890467305, 0.5053005492500667, 0.4566814030065701, 0.48890977094392085, 0.4391580890467305, 0.5381905290591259, 0.5215768849770335, 0.5738029789254734, 0.45777269474374155, 0.4785228435562512, 0.4784405786632958, 0.5644675856257149, 0.600853414661878, 0.6301733805074563, ],
[0.8592131106607721, 0.903192279138827, 0.8809462023270487, 0.903192279138827, 0.9193229606741115, 0.9193229606741115, 0.845217674987534, 0.9349088509444856, 0.903192279138827, 0.8962343189514681, 0.903192279138827, 0.8719953806813495, 0.9429656085186894, 0.9349088509444856, 0.903192279138827, 0.9193229606741115, 0.9349088509444856, 0.9349088509444856, 0.9349088509444856, 0.9193229606741115, 0.903192279138827, 0.8719953806813495, 0.9349088509444856, 0.9116872626152508, 0.8668488087196328, 0.9116872626152508, 0.9349088509444856, 0.8574610244988864, 0.9193229606741115, ],
[0.8736921033877233, 0.7186195103789759, 0.8379863159373181, 0.9193229606741115, 0.7515372833858358, 0.7628688079319111, 0.6846108915151231, 0.7627978386701475, 0.7897935054579449, 0.8507181271843484, 0.8299295583631144, 0.8110616184112844, 0.7344496686738706, 0.8412934092221398, 0.9349088509444856, 0.7446575751698247, 0.7543028551937238, 0.770433536729008, 0.7627978386701475, 0.733098503105927, 0.8241024246220979, 0.8110616184112844, 0.772785926238042, 0.772785926238042, 0.7344496686738706, 0.7628688079319111, 0.772785926238042, 0.7543028551937238, 0.733098503105927, ],
[0.600853414661878, 0.2818595878729509, 0.4566814030065701, 0.9193229606741115, 0.7628688079319111, 0.2529438867226544, 0.2838028823181013, 0.3026134523536157, 0.2994060876020787, 0.6453908994369276, 0.4843688528914958, 0.45528877058201483, 0.26080178173719376, 0.8890029599012524, 0.8096234318951467, 0.2902945261519872, 0.27851214243196426, 0.3108877251416227, 0.3026134523536157, 0.28179954267556345, 0.505249644596341, 0.48512989604303636, 0.3287914492071879, 0.3088273128362215, 0.31642332755918506, 0.27897117607585314, 0.3488175629229823, 0.5943920163667752, 0.733098503105927, ],
[0.6094070313817901, 0.2742637217767136, 0.41643789297835326, 0.845217674987534, 0.6846108915151231, 0.2838028823181013, 0.26748329621380845, 0.26854783514026276, 0.28363552862439273, 0.6229420214572404, 0.4893443554913488, 0.5219978701790134, 0.2838028823181013, 0.8209787367174153, 0.8096234318951467, 0.29513492705771843, 0.28796613985923564, 0.284858355014257, 0.26854783514026276, 0.29183370452858204, 0.4736911373140029, 0.5335978145926178, 0.31272921027932166, 0.3649482444582667, 0.310192820883244, 0.2882702301410542, 0.3255433607326703, 0.4659357947405461, 0.4477305813608709, ],
[0.5867057852210043, 0.31516312154767984, 0.48890977094392085, 0.9349088509444856, 0.7627978386701475, 0.3026134523536157, 0.26854783514026276, 0.2756011393724831, 0.27851214243196426, 0.6439822896393053, 0.4784405786632958, 0.4937398422921809, 0.28727205304785114, 0.8890029599012524, 0.8096234318951467, 0.30932892803716855, 0.2778019296207863, 0.3009744711303732, 0.2815887156644395, 0.304426475473246, 0.4631916251812317, 0.509335021732943, 0.3907907164774277, 0.3461766889383816, 0.3653727967016757, 0.3211642971850841, 0.3711599498533426, 0.5266203099907628, 0.5378191108703357, ],
[0.5786615866051649, 0.27900015828746344, 0.5215768849770335, 0.903192279138827, 0.7897935054579449, 0.2994060876020787, 0.28363552862439273, 0.27851214243196426, 0.2502966961021898, 0.6292602179016433, 0.5365374282968938, 0.5095717097944269, 0.2940188889706336, 0.8719953806813495, 0.7970248645081608, 0.3168840704104253, 0.2778019296207863, 0.2934039458909541, 0.27851214243196426, 0.2988699166872887, 0.5365374282968938, 0.5095717097944269, 0.3402344437979182, 0.33814267125328745, 0.3034149962880475, 0.274536005939124, 0.35820631321744906, 0.48512989604303636, 0.4902953435989813, ],
[0.7006998089403434, 0.6846108915151231, 0.6148852638830367, 0.8962343189514681, 0.8507181271843484, 0.6453908994369276, 0.6229420214572404, 0.6439822896393053, 0.6292602179016433, 0.6268914794527267, 0.6301733805074563, 0.6229420214572404, 0.59789722907763, 0.8962343189514681, 0.8379863159373181, 0.6214466136515134, 0.6377552013780671, 0.6453908994369276, 0.6439822896393053, 0.6453908994369276, 0.6301733805074563, 0.6008630753990813, 0.6684802099798388, 0.6214466136515134, 0.6148852638830367, 0.6084891127207386, 0.6684802099798388, 0.7817367478837411, 0.727298345115717, ],
[0.6163119318278932, 0.5030495974816688, 0.5481133694942159, 0.903192279138827, 0.8299295583631144, 0.4843688528914958, 0.4893443554913488, 0.4784405786632958, 0.5365374282968938, 0.6301733805074563, 0.5239109933987439, 0.5365374282968938, 0.5136370223229911, 0.8890029599012524, 0.8096234318951467, 0.4841139580560516, 0.48512989604303636, 0.4736911373140029, 0.4784405786632958, 0.4784405786632958, 0.5239109933987439, 0.5492767451935974, 0.5365374282968938, 0.5483231561182563, 0.5263093085661757, 0.5596923575394251, 0.48512989604303636, 0.7627978386701475, 0.65905549201763, ],
[0.6522341941050182, 0.5251028311161942, 0.5215768849770335, 0.8719953806813495, 0.8110616184112844, 0.45528877058201483, 0.5219978701790134, 0.4937398422921809, 0.5095717097944269, 0.6229420214572404, 0.5365374282968938, 0.5139411126048097, 0.4621320652501053, 0.8809462023270487, 0.7917037304565143, 0.44322496215591983, 0.509335021732943, 0.4631916251812317, 0.4937398422921809, 0.4754180312457966, 0.5492767451935974, 0.5251028311161942, 0.5156610953938348, 0.4843688528914958, 0.4671480686328496, 0.505249644596341, 0.5263093085661757, 0.7173812268095862, 0.6439822896393053, ],
[0.600853414661878, 0.28179954267556345, 0.44322496215591983, 0.9429656085186894, 0.7344496686738706, 0.26080178173719376, 0.2838028823181013, 0.28727205304785114, 0.2940188889706336, 0.59789722907763, 0.5136370223229911, 0.4621320652501053, 0.2529438867226544, 0.8809462023270487, 0.7448781372315151, 0.27619445726349956, 0.29513492705771843, 0.2941543622315709, 0.28727205304785114, 0.2848552338530067, 0.5156610953938348, 0.4719695196309896, 0.3399748672205984, 0.311812703572169, 0.310192820883244, 0.262221761479371, 0.3461766889383816, 0.5738029789254734, 0.733098503105927, ],
[0.8736921033877233, 0.8668488087196328, 0.8592131106607721, 0.9349088509444856, 0.8412934092221398, 0.8890029599012524, 0.8209787367174153, 0.8890029599012524, 0.8719953806813495, 0.8962343189514681, 0.8890029599012524, 0.8809462023270487, 0.8809462023270487, 0.8890029599012524, 0.903192279138827, 0.8574610244988864, 0.9349088509444856, 0.8736921033877233, 0.8890029599012524, 0.8736921033877233, 0.8962343189514681, 0.8809462023270487, 0.9116872626152508, 0.8890029599012524, 0.8668488087196328, 0.8668488087196328, 0.8890029599012524, 0.8011284484187231, 0.8302166308847824, ],
[0.8096234318951467, 0.7817367478837411, 0.8241024246220979, 0.903192279138827, 0.9349088509444856, 0.8096234318951467, 0.8096234318951467, 0.8096234318951467, 0.7970248645081608, 0.8379863159373181, 0.8096234318951467, 0.7917037304565143, 0.7448781372315151, 0.903192279138827, 0.8096234318951467, 0.8096234318951467, 0.7970248645081608, 0.7897935054579449, 0.8096234318951467, 0.8299295583631144, 0.8172591299540074, 0.7917037304565143, 0.7970248645081608, 0.8592131106607721, 0.7627978386701475, 0.8172591299540074, 0.770433536729008, 0.8011284484187231, 0.8798063096504077, ],
[0.5791038997423555, 0.2877247700558762, 0.4391580890467305, 0.9193229606741115, 0.7446575751698247, 0.2902945261519872, 0.29513492705771843, 0.30932892803716855, 0.3168840704104253, 0.6214466136515134, 0.4841139580560516, 0.44322496215591983, 0.27619445726349956, 0.8574610244988864, 0.8096234318951467, 0.27874414875157266, 0.3067467616094193, 0.2965985287440373, 0.30932892803716855, 0.28179954267556345, 0.4757193719331804, 0.4754180312457966, 0.3376793274343386, 0.3254354577294443, 0.3034149962880475, 0.27851214243196426, 0.34730253638939607, 0.5454882499425928, 0.6453908994369276, ],
[0.635994346239335, 0.27703932588862057, 0.5053005492500667, 0.9349088509444856, 0.7543028551937238, 0.27851214243196426, 0.28796613985923564, 0.2778019296207863, 0.2778019296207863, 0.6377552013780671, 0.48512989604303636, 0.509335021732943, 0.29513492705771843, 0.9349088509444856, 0.7970248645081608, 0.3067467616094193, 0.2818595878729509, 0.29183370452858204, 0.2778019296207863, 0.2882702301410542, 0.4841139580560516, 0.5191486958376342, 0.31516312154767984, 0.35202552218142413, 0.3530199836064721, 0.28995937288439144, 0.33248876196166477, 0.505249644596341, 0.5030495974816688, ],
[0.6229420214572404, 0.2869910742219577, 0.4566814030065701, 0.9349088509444856, 0.770433536729008, 0.3108877251416227, 0.284858355014257, 0.3009744711303732, 0.2934039458909541, 0.6453908994369276, 0.4736911373140029, 0.4631916251812317, 0.2941543622315709, 0.8736921033877233, 0.7897935054579449, 0.2965985287440373, 0.29183370452858204, 0.2934039458909541, 0.3009744711303732, 0.29234133911194043, 0.4631916251812317, 0.4902953435989813, 0.34361362104494997, 0.3260668983757328, 0.305093512220461, 0.27282902798864195, 0.3488175629229823, 0.548076807319569, 0.6475482163678155, ],
[0.5867057852210043, 0.31516312154767984, 0.48890977094392085, 0.9349088509444856, 0.7627978386701475, 0.3026134523536157, 0.26854783514026276, 0.2815887156644395, 0.27851214243196426, 0.6439822896393053, 0.4784405786632958, 0.4937398422921809, 0.28727205304785114, 0.8890029599012524, 0.8096234318951467, 0.30932892803716855, 0.2778019296207863, 0.3009744711303732, 0.2756011393724831, 0.304426475473246, 0.4631916251812317, 0.509335021732943, 0.3907907164774277, 0.3461766889383816, 0.3653727967016757, 0.3211642971850841, 0.3711599498533426, 0.5266203099907628, 0.5378191108703357, ],
[0.600853414661878, 0.28445312424525493, 0.4391580890467305, 0.9193229606741115, 0.733098503105927, 0.28179954267556345, 0.29183370452858204, 0.304426475473246, 0.2988699166872887, 0.6453908994369276, 0.4784405786632958, 0.4754180312457966, 0.2848552338530067, 0.8736921033877233, 0.8299295583631144, 0.28179954267556345, 0.2882702301410542, 0.29234133911194043, 0.304426475473246, 0.26854783514026276, 0.5030495974816688, 0.4744307782169698, 0.3211953601708613, 0.31266076767190354, 0.3118435436178569, 0.2696162383615984, 0.3306119779764917, 0.5806462735935639, 0.7030132582471113, ],
[0.6214466136515134, 0.5219978701790134, 0.5381905290591259, 0.903192279138827, 0.8241024246220979, 0.505249644596341, 0.4736911373140029, 0.4631916251812317, 0.5365374282968938, 0.6301733805074563, 0.5239109933987439, 0.5492767451935974, 0.5156610953938348, 0.8962343189514681, 0.8172591299540074, 0.4757193719331804, 0.4841139580560516, 0.4631916251812317, 0.4631916251812317, 0.5030495974816688, 0.5239109933987439, 0.5492767451935974, 0.5365374282968938, 0.5483231561182563, 0.5156610953938348, 0.537196067634078, 0.49455461400524503, 0.7627978386701475, 0.6769751934562624, ],
[0.6453908994369276, 0.5378191108703357, 0.5215768849770335, 0.8719953806813495, 0.8110616184112844, 0.48512989604303636, 0.5335978145926178, 0.509335021732943, 0.5095717097944269, 0.6008630753990813, 0.5492767451935974, 0.5251028311161942, 0.4719695196309896, 0.8809462023270487, 0.7917037304565143, 0.4754180312457966, 0.5191486958376342, 0.4902953435989813, 0.509335021732943, 0.4744307782169698, 0.5492767451935974, 0.5251028311161942, 0.537196067634078, 0.4843688528914958, 0.4844625620423691, 0.5219978701790134, 0.537196067634078, 0.7448781372315151, 0.6439822896393053, ],
[0.6522341941050182, 0.34730253638939607, 0.5738029789254734, 0.9349088509444856, 0.772785926238042, 0.3287914492071879, 0.31272921027932166, 0.3907907164774277, 0.3402344437979182, 0.6684802099798388, 0.5365374282968938, 0.5156610953938348, 0.3399748672205984, 0.9116872626152508, 0.7970248645081608, 0.3376793274343386, 0.31516312154767984, 0.34361362104494997, 0.3907907164774277, 0.3211953601708613, 0.5365374282968938, 0.537196067634078, 0.347193815939176, 0.5344036687021096, 0.42128877206828214, 0.3461954902192467, 0.3562966827257844, 0.5339193685147657, 0.5672474255993187, ],
[0.6066353658781276, 0.3516703786191537, 0.45777269474374155, 0.9116872626152508, 0.772785926238042, 0.3088273128362215, 0.3649482444582667, 0.3461766889383816, 0.33814267125328745, 0.6214466136515134, 0.5483231561182563, 0.4843688528914958, 0.311812703572169, 0.8890029599012524, 0.8592131106607721, 0.3254354577294443, 0.35202552218142413, 0.3260668983757328, 0.3461766889383816, 0.31266076767190354, 0.5483231561182563, 0.4843688528914958, 0.5344036687021096, 0.3255433607326703, 0.33635877897199357, 0.31899850853080247, 0.5492767451935974, 0.6377552013780671, 0.5106852955405294, ],
[0.6013082124440698, 0.30316574926819917, 0.4785228435562512, 0.8668488087196328, 0.7344496686738706, 0.31642332755918506, 0.310192820883244, 0.3653727967016757, 0.3034149962880475, 0.6148852638830367, 0.5263093085661757, 0.4671480686328496, 0.310192820883244, 0.8668488087196328, 0.7627978386701475, 0.3034149962880475, 0.3530199836064721, 0.305093512220461, 0.3653727967016757, 0.3118435436178569, 0.5156610953938348, 0.4844625620423691, 0.42128877206828214, 0.33635877897199357, 0.2793995926141435, 0.3649482444582667, 0.438849019769584, 0.7772768313970987, 0.6301733805074563, ],
[0.6203214350207669, 0.27619445726349956, 0.4784405786632958, 0.9116872626152508, 0.7628688079319111, 0.27897117607585314, 0.2882702301410542, 0.3211642971850841, 0.274536005939124, 0.6084891127207386, 0.5596923575394251, 0.505249644596341, 0.262221761479371, 0.8668488087196328, 0.8172591299540074, 0.27851214243196426, 0.28995937288439144, 0.27282902798864195, 0.3211642971850841, 0.2696162383615984, 0.537196067634078, 0.5219978701790134, 0.3461954902192467, 0.31899850853080247, 0.3649482444582667, 0.2526828238780726, 0.35307482686844227, 0.7443059243356199, 0.5791038997423555, ],
[0.6340651713331743, 0.35664261143103015, 0.5644675856257149, 0.9349088509444856, 0.772785926238042, 0.3488175629229823, 0.3255433607326703, 0.3711599498533426, 0.35820631321744906, 0.6684802099798388, 0.48512989604303636, 0.5263093085661757, 0.3461766889383816, 0.8890029599012524, 0.770433536729008, 0.34730253638939607, 0.33248876196166477, 0.3488175629229823, 0.3711599498533426, 0.3306119779764917, 0.49455461400524503, 0.537196067634078, 0.3562966827257844, 0.5492767451935974, 0.438849019769584, 0.35307482686844227, 0.3562966827257844, 0.5806462735935639, 0.5922053456574615, ],
[0.7392127093686114, 0.48890977094392085, 0.600853414661878, 0.8574610244988864, 0.7543028551937238, 0.5943920163667752, 0.4659357947405461, 0.5266203099907628, 0.48512989604303636, 0.7817367478837411, 0.7627978386701475, 0.7173812268095862, 0.5738029789254734, 0.8011284484187231, 0.8011284484187231, 0.5454882499425928, 0.505249644596341, 0.548076807319569, 0.5266203099907628, 0.5806462735935639, 0.7627978386701475, 0.7448781372315151, 0.5339193685147657, 0.6377552013780671, 0.7772768313970987, 0.7443059243356199, 0.5806462735935639, 0.5335978145926178, 0.5378191108703357, ],
[0.7446575751698247, 0.4597624350408315, 0.6301733805074563, 0.9193229606741115, 0.733098503105927, 0.733098503105927, 0.4477305813608709, 0.5378191108703357, 0.4902953435989813, 0.727298345115717, 0.65905549201763, 0.6439822896393053, 0.733098503105927, 0.8302166308847824, 0.8798063096504077, 0.6453908994369276, 0.5030495974816688, 0.6475482163678155, 0.5378191108703357, 0.7030132582471113, 0.6769751934562624, 0.6439822896393053, 0.5672474255993187, 0.5106852955405294, 0.6301733805074563, 0.5791038997423555, 0.5922053456574615, 0.5378191108703357, 0.4583237283311523]])



_, vecs = np.linalg.eig(covmat)



selection_Name = r'\Gipper'
preproccesing_name = r'real'

root = r"D:\Nuu\Data mining\Articles\PCA new\Computing";

img_path = root + selection_Name + \
               "\images " + preproccesing_name


save_name = img_path + r"\img"

path = root + selection_Name + \
           "/res " + preproccesing_name + ".txt"
path1 = root + selection_Name + \
           "/res1 " + preproccesing_name + ".txt"

file = open(path, 'w')
file1 = open(path1, 'w')


for i in range(vecs.shape[0] - 1):
    for j in range(i, vecs.shape[0]):
        transform = np.dot(X, vecs[:, [i, j]])
        group, comp1, noisy1 = Fris(transform, y, types=types, file=file)
        file1.write("(" + str(i) + ", " + str(j) + ")" + str(comp1))
        mscatter(transform, y=y, save_name="D:/Nuu/Data mining/Articles/PCA new/Computing/Gipper/images/" + "(" + str(i) + ", " + str(j) + ")" + ".png")